

const {
    GoogleGenerativeAI,
    HarmCategory,
    HarmBlockThreshold,
  } = require("@google/generative-ai");
  
  const apiKey = process.env.EXPO_PUBLIC_GOOGLE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
export const chatSession = model.startChat({
      generationConfig,
   // safetySettings: Adjust safety settings
   // See https://ai.google.dev/gemini-api/docs/safety-settings
      history: [
        {
            role: "user",
            parts: [
              {text: "Generate Travel Plan for Location: Las Vegas, NV, USA, for 3 Days and 2 Night for Just Me with a Moderate budget with a Flight details, Flight Price with Booking url, Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and Places to sit nearby with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time to travel each of the location for 3 days and 2 night with each day plan with best time to visit in JSON format\n"},
            ],
          },
          {
            role: "model",
            parts: [
              {text: "```json\n{\n  \"trip\": {\n    \"destination\": \"Las Vegas, NV, USA\",\n    \"duration\": \"3 days and 2 nights\",\n    \"budget\": \"Moderate\",\n    \"flight\": {\n      \"airline\": \"Southwest Airlines\",\n      \"flight_number\": \"WN1234\",\n      \"departure_city\": \"Los Angeles, CA\",\n      \"arrival_city\": \"Las Vegas, NV\",\n      \"departure_date\": \"2024-03-15\",\n      \"departure_time\": \"10:00 AM\",\n      \"arrival_date\": \"2024-03-15\",\n      \"arrival_time\": \"11:00 AM\",\n      \"price\": \"$100\",\n      \"booking_url\": \"https://www.southwest.com/\"\n    },\n    \"hotel\": [\n      {\n        \"hotel_name\": \"The Venetian Resort Las Vegas\",\n        \"hotel_address\": \"3355 Las Vegas Blvd S, Las Vegas, NV 89109\",\n        \"price\": \"$150/night\",\n        \"hotel_image_url\": \"https://www.venetian.com/content/dam/venetian/images/home/hero-image-desktop.jpg\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1002,\n          \"longitude\": -115.1733\n        },\n        \"rating\": 4.5,\n        \"description\": \"A luxurious hotel with a Venetian-inspired theme, featuring a casino, shopping mall, and multiple dining options.\",\n        \"places_to_sit_nearby\": [\n          {\n            \"place_name\": \"Canaletto\",\n            \"place_details\": \"An Italian restaurant with a view of the Grand Canal.\",\n            \"place_image_url\": \"https://www.venetian.com/content/dam/venetian/images/restaurants/canaletto/canaletto-restaurant-hero-image.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1002,\n              \"longitude\": -115.1733\n            },\n            \"ticket_pricing\": \"No entrance fee, food and drinks available for purchase.\",\n            \"time_to_travel\": \"5 minutes\"\n          },\n          {\n            \"place_name\": \"The Grand Canal Shoppes\",\n            \"place_details\": \"A luxury shopping mall with a replica of Venice's canals.\",\n            \"place_image_url\": \"https://www.venetian.com/content/dam/venetian/images/shopping/grand-canal-shoppes/grand-canal-shoppes-hero.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1002,\n              \"longitude\": -115.1733\n            },\n            \"ticket_pricing\": \"Free\",\n            \"time_to_travel\": \"3 minutes\"\n          }\n        ]\n      },\n      {\n        \"hotel_name\": \"Caesars Palace\",\n        \"hotel_address\": \"3570 Las Vegas Blvd S, Las Vegas, NV 89109\",\n        \"price\": \"$120/night\",\n        \"hotel_image_url\": \"https://www.caesars.com/content/dam/caesars/las-vegas/hotels/caesars-palace/hero-images/caesars-palace-hero-mobile.jpg\",\n        \"geo_coordinates\": {\n          \"latitude\": 36.1006,\n          \"longitude\": -115.1728\n        },\n        \"rating\": 4.4,\n        \"description\": \"A Roman-themed hotel with a casino, multiple dining options, and a variety of entertainment venues.\",\n        \"places_to_sit_nearby\": [\n          {\n            \"place_name\": \"The Forum Shops at Caesars\",\n            \"place_details\": \"A high-end shopping mall with a variety of stores and restaurants.\",\n            \"place_image_url\": \"https://www.caesars.com/content/dam/caesars/las-vegas/hotels/caesars-palace/shops-restaurants/forum-shops/forum-shops-hero.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1006,\n              \"longitude\": -115.1728\n            },\n            \"ticket_pricing\": \"Free\",\n            \"time_to_travel\": \"5 minutes\"\n          },\n          {\n            \"place_name\": \"The Colosseum\",\n            \"place_details\": \"A concert venue hosting world-renowned performers.\",\n            \"place_image_url\": \"https://www.caesars.com/content/dam/caesars/las-vegas/hotels/caesars-palace/entertainment/colosseum/colosseum-hero.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1006,\n              \"longitude\": -115.1728\n            },\n            \"ticket_pricing\": \"Varies depending on the show.\",\n            \"time_to_travel\": \"2 minutes\"\n          }\n        ]\n      }\n    ],\n    \"daily_plan\": [\n      {\n        \"day\": \"Day 1\",\n        \"activities\": [\n          {\n            \"activity_name\": \"Check in and Explore the Strip\",\n            \"activity_details\": \"Check in to your hotel and take a walk along the Las Vegas Strip, admiring the dazzling lights and iconic hotels.\",\n            \"activity_time\": \"12:00 PM\",\n            \"activity_duration\": \"3 hours\",\n            \"activity_image_url\": \"https://www.visitlasvegas.com/media/4551/las-vegas-strip-night-view.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1146,\n              \"longitude\": -115.1729\n            }\n          },\n          {\n            \"activity_name\": \"Lunch at In-N-Out Burger\",\n            \"activity_details\": \"Enjoy a classic American burger at this popular chain.\",\n            \"activity_time\": \"3:00 PM\",\n            \"activity_duration\": \"1 hour\",\n            \"activity_image_url\": \"https://www.in-n-out.com/images/home/hero/mobile/burger-hero-mobile.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1146,\n              \"longitude\": -115.1729\n            }\n          },\n          {\n            \"activity_name\": \"Visit the High Roller Observation Wheel\",\n            \"activity_details\": \"Experience breathtaking panoramic views of Las Vegas from this massive Ferris wheel.\",\n            \"activity_time\": \"4:00 PM\",\n            \"activity_duration\": \"1 hour\",\n            \"activity_image_url\": \"https://www.caesars.com/content/dam/caesars/las-vegas/entertainment/high-roller/high-roller-hero-mobile.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1146,\n              \"longitude\": -115.1729\n            },\n            \"ticket_pricing\": \"$35\"\n          },\n          {\n            \"activity_name\": \"Dinner at The Buffet at Wynn\",\n            \"activity_details\": \"Indulge in a wide variety of cuisines at this renowned buffet.\",\n            \"activity_time\": \"7:00 PM\",\n            \"activity_duration\": \"2 hours\",\n            \"activity_image_url\": \"https://www.wynnlasvegas.com/content/dam/wynn/images/restaurants/the-buffet/the-buffet-hero.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1166,\n              \"longitude\": -115.1712\n            },\n            \"ticket_pricing\": \"$45\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 2\",\n        \"activities\": [\n          {\n            \"activity_name\": \"Morning at the Bellagio Conservatory & Botanical Garden\",\n            \"activity_details\": \"Admire stunning floral displays and artistic installations.\",\n            \"activity_time\": \"10:00 AM\",\n            \"activity_duration\": \"1 hour\",\n            \"activity_image_url\": \"https://www.bellagio.com/content/dam/bellagio/images/home/hero-image-mobile.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1015,\n              \"longitude\": -115.1734\n            },\n            \"ticket_pricing\": \"Free\"\n          },\n          {\n            \"activity_name\": \"Lunch at The Cheesecake Factory\",\n            \"activity_details\": \"Enjoy a large portion of your favorite dishes at this popular restaurant.\",\n            \"activity_time\": \"1:00 PM\",\n            \"activity_duration\": \"1 hour\",\n            \"activity_image_url\": \"https://www.thecheesecakefactory.com/content/dam/cheesecakefactory/images/hero/home-hero-mobile.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1015,\n              \"longitude\": -115.1734\n            }\n          },\n          {\n            \"activity_name\": \"Explore the Fremont Street Experience\",\n            \"activity_details\": \"Experience the vibrant atmosphere of Fremont Street with its dazzling light show, live music, and street performers.\",\n            \"activity_time\": \"2:00 PM\",\n            \"activity_duration\": \"2 hours\",\n            \"activity_image_url\": \"https://www.fremontstreetexperience.com/sites/default/files/styles/hero_image/public/hero-images/2022/08/freemont-street-experience-las-vegas-nevada-hero-image-03.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1699,\n              \"longitude\": -115.1424\n            },\n            \"ticket_pricing\": \"Free\"\n          },\n          {\n            \"activity_name\": \"Dinner at Gordon Ramsay Hell's Kitchen\",\n            \"activity_details\": \"Enjoy a fine dining experience at this restaurant inspired by the popular TV show.\",\n            \"activity_time\": \"7:00 PM\",\n            \"activity_duration\": \"2 hours\",\n            \"activity_image_url\": \"https://www.caesars.com/content/dam/caesars/las-vegas/hotels/caesars-palace/shops-restaurants/gordon-ramsay-hells-kitchen/gordon-ramsay-hells-kitchen-hero.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1006,\n              \"longitude\": -115.1728\n            },\n            \"ticket_pricing\": \"Varies depending on the meal\"\n          }\n        ]\n      },\n      {\n        \"day\": \"Day 3\",\n        \"activities\": [\n          {\n            \"activity_name\": \"Morning at the Neon Museum\",\n            \"activity_details\": \"Explore a collection of iconic Las Vegas neon signs.\",\n            \"activity_time\": \"9:00 AM\",\n            \"activity_duration\": \"1 hour\",\n            \"activity_image_url\": \"https://www.neonmuseum.org/sites/default/files/styles/hero_image/public/hero-images/neon-museum-hero-image.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1712,\n              \"longitude\": -115.1399\n            },\n            \"ticket_pricing\": \"$20\"\n          },\n          {\n            \"activity_name\": \"Lunch at The Peppermill Restaurant\",\n            \"activity_details\": \"Enjoy a classic Las Vegas dining experience at this retro-style restaurant.\",\n            \"activity_time\": \"12:00 PM\",\n            \"activity_duration\": \"1 hour\",\n            \"activity_image_url\": \"https://www.peppermillrestaurant.com/images/peppermill-las-vegas-restaurant.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1269,\n              \"longitude\": -115.1690\n            }\n          },\n          {\n            \"activity_name\": \"Explore the LINQ Promenade\",\n            \"activity_details\": \"Walk along this outdoor shopping and dining area, with attractions like the High Roller and the LINQ Hotel.\",\n            \"activity_time\": \"2:00 PM\",\n            \"activity_duration\": \"2 hours\",\n            \"activity_image_url\": \"https://www.caesars.com/content/dam/caesars/las-vegas/hotels/linq-hotel-casino/hero-images/linq-hero-mobile.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.1146,\n              \"longitude\": -115.1729\n            },\n            \"ticket_pricing\": \"Free\"\n          },\n          {\n            \"activity_name\": \"Dinner at Joël Robuchon Restaurant\",\n            \"activity_details\": \"Enjoy a fine dining experience at this three-Michelin-starred restaurant.\",\n            \"activity_time\": \"7:00 PM\",\n            \"activity_duration\": \"2 hours\",\n            \"activity_image_url\": \"https://www.mgmgrand.com/content/dam/mgmresorts/images/restaurants/joels-robuchon/joels-robuchon-hero.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": 36.0998,\n              \"longitude\": -115.1742\n            },\n            \"ticket_pricing\": \"Varies depending on the meal\"\n          }\n        ]\n      }\n    ]\n  }\n}\n``` \n"},
            ],
        },
      ],
    });
  
    // const result = await chatSession.sendMessage("INSERT_INPUT_HERE");
    // console.log(result.response.text());

    // {
    //     role: "user",
    //     parts: [
    //       {text: "Generate Travel Plan for Location: New York USA, for 1 Days and 1 Night for Family with a Luxury budget with a Flight details, Flight Price with Booking url, Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and Places to sit nearby with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, Time t travel each of the location for 1 days and 1 night with each day plan with best time to visit in JSON format"},
    //     ],
    //   },
    //   {
    //     role: "model",
    //     parts: [
    //     ],
    //   },